(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{18:function(t,e,s){"use strict";s.d(e,"a",(function(){return i})),s.d(e,"b",(function(){return o}));var n=s(8),r=s.n(n),i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Something went wrong!";return r.a.fire({title:"Oops!",text:t,icon:"error"})},o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Action successfuly finished!";return r.a.fire({title:"Success!",text:t,icon:"success"})}},37:function(t,e,s){"use strict";s.r(e);var n=s(0),r=s.n(n),i=s(3),o=s.n(i),u=s(4),a=s(18);function c(t,e,s,n,r,i,o){try{var u=t[i](o),a=u.value}catch(t){return void s(t)}u.done?e(a):Promise.resolve(a).then(n,r)}var l={scrollToTop:!1,metaInfo:function(){return{title:this.$t("settings")}},data:function(){return{form:new o.a({username:"",name:"",email:""}),isUpdating:!1,secQs:[[],[],[]]}},computed:Object(u.b)({user:"auth/user",userSecurityQuestions:"user-security-question/userSecurityQuestions",userSecurityQuestionForm:"user-security-question/userSecurityQuestionForm"}),created:function(){var t=this;this.form.keys().forEach((function(e){t.form[e]=t.user[e]})),console.log(this.form)},methods:{update:function(){var t,e=this;return(t=r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.$store.dispatch("user-security-question/saveAuthenticatedUserSecurityQuestion").then((function(t){var s=t.success;t.message,s&&(Object(a.b)("Security Questions Updated"),e.cancelUpdate())}));case 1:case"end":return t.stop()}}),t)})),function(){var e=this,s=arguments;return new Promise((function(n,r){var i=t.apply(e,s);function o(t){c(i,n,r,o,u,"next",t)}function u(t){c(i,n,r,o,u,"throw",t)}o(void 0)}))})()},onChange:function(t,e){for(var s=parseInt(t.target.value),n=0;n<this.secQs.length;n++)n!==e&&(this.secQs[n]=this.userSecurityQuestions,this.secQs[n]=this.secQs[n].filter((function(t){return t.id!==s})))},cancelUpdate:function(){this.$store.dispatch("user-security-question/fetchDefaultAuthenticatedSecurityQuestions"),this.$store.dispatch("user-security-question/fetchAuthenticatedUserSecurityQuestions");for(var t=0;t<this.secQs.length;t++)this.secQs[t]=this.userSecurityQuestions;this.isUpdating=!1}},beforeMount:function(){for(var t=0;t<this.secQs.length;t++)this.secQs[t]=this.userSecurityQuestions}},m=s(1),d=Object(m.a)(l,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("card",{staticClass:"py-3"},[s("h4",{staticClass:"mb-0"},[t._v("Security Questions")]),t._v(" "),s("p",{staticClass:"mb-0"},[t._v("Change your security questions here.")]),t._v(" "),s("hr"),t._v(" "),s("form",{on:{submit:function(e){return e.preventDefault(),t.update(e)},keydown:function(e){return t.form.onKeydown(e)}}},[s("alert-success",{attrs:{form:t.form,message:t.$t("info_updated")}}),t._v(" "),s("div",{staticClass:"form-group col-md-7 mx-auto"},[s("label",[t._v("Question #1")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.userSecurityQuestionForm.question_1,expression:"userSecurityQuestionForm.question_1"}],staticClass:"form-control",attrs:{required:"",disabled:!t.isUpdating},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.userSecurityQuestionForm,"question_1",e.target.multiple?s:s[0])},function(e){return t.onChange(e,0)}]}},[s("option",{attrs:{value:""}},[t._v("First Question")]),t._v(" "),t._l(t.secQs[0],(function(e){return s("option",{key:e.id,domProps:{value:e.id}},[t._v("\n              "+t._s(e.question)+"\n            ")])}))],2)]),t._v(" "),s("div",{staticClass:"form-group col-md-7 mx-auto"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userSecurityQuestionForm.answer_1,expression:"userSecurityQuestionForm.answer_1"}],staticClass:"form-control",attrs:{type:"text",name:"answer_1",readonly:!t.isUpdating},domProps:{value:t.userSecurityQuestionForm.answer_1},on:{input:function(e){e.target.composing||t.$set(t.userSecurityQuestionForm,"answer_1",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group col-md-7 mx-auto"},[s("label",[t._v("Question #2")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.userSecurityQuestionForm.question_2,expression:"userSecurityQuestionForm.question_2"}],staticClass:"form-control",attrs:{required:"",disabled:!t.isUpdating},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.userSecurityQuestionForm,"question_2",e.target.multiple?s:s[0])},function(e){return t.onChange(e,1)}]}},[s("option",{attrs:{value:""}},[t._v("Second Question")]),t._v(" "),t._l(t.secQs[1],(function(e){return s("option",{key:e.id,domProps:{value:e.id}},[t._v("\n              "+t._s(e.question)+"\n            ")])}))],2)]),t._v(" "),s("div",{staticClass:"form-group col-md-7 mx-auto"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userSecurityQuestionForm.answer_2,expression:"userSecurityQuestionForm.answer_2"}],staticClass:"form-control",attrs:{type:"text",name:"answer_2",readonly:!t.isUpdating},domProps:{value:t.userSecurityQuestionForm.answer_2},on:{input:function(e){e.target.composing||t.$set(t.userSecurityQuestionForm,"answer_2",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group col-md-7 mx-auto"},[s("label",[t._v("Question #3")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.userSecurityQuestionForm.question_3,expression:"userSecurityQuestionForm.question_3"}],staticClass:"form-control",attrs:{required:"",disabled:!t.isUpdating},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.userSecurityQuestionForm,"question_3",e.target.multiple?s:s[0])},function(e){return t.onChange(e,2)}]}},[s("option",{attrs:{value:""}},[t._v("Third Question")]),t._v(" "),t._l(t.secQs[2],(function(e){return s("option",{key:e.id,domProps:{value:e.id}},[t._v("\n              "+t._s(e.question)+"\n            ")])}))],2)]),t._v(" "),s("div",{staticClass:"form-group col-md-7 mx-auto"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userSecurityQuestionForm.answer_3,expression:"userSecurityQuestionForm.answer_3"}],staticClass:"form-control",attrs:{type:"text",name:"answer_3",readonly:!t.isUpdating},domProps:{value:t.userSecurityQuestionForm.answer_3},on:{input:function(e){e.target.composing||t.$set(t.userSecurityQuestionForm,"answer_3",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group row col-md-7 mx-auto mt-3"},[t.isUpdating?s("div",{staticClass:"col-md-6 px-0 pr-lg-1"},[s("button",{staticClass:"btn btn-secondary w-100",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.cancelUpdate()}}},[t._v("\n            Cancel\n            ")])]):t._e(),t._v(" "),s("div",{staticClass:"col-md-6 px-0 pl-lg-1 ml-md-auto"},[t.isUpdating?s("v-button",{staticClass:"btn btn-primary w-100"},[t._v("\n              Confirm\n            ")]):s("button",{staticClass:"btn btn-primary w-100",on:{click:function(e){e.preventDefault(),t.isUpdating=!0}}},[t._v("\n              "+t._s(t.$t("update"))+"\n            ")])],1)])],1)])}),[],!1,null,null,null);e.default=d.exports}}]);